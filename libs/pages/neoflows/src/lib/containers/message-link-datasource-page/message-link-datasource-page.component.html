<div class="processor-list">
  @for (processor of processorMenuOpt(); let i = $index; track processor.displayName) {
    <button type="button" mat-stroked-button color="primary" (click)="addProcessor($event, processor)">
      {{ processor.displayName }}
    </button>
  }
</div>
<div class="message-link-datasource">
  <div class="message-link-datasource__source">
    @for (source of sources(); track source.name) {
      <ne-neoflow-node
        [nodeGroup]="source"
        (handleSelectedNode)="onSelectedNode($event)"
        [selectedNode]="selectedNode()"
      ></ne-neoflow-node>
    }
  </div>

  <div class="message-link-datasource__process">
    <ng-container #container> </ng-container>
    <div id="processor-wrapper"></div>
  </div>

  <div class="message-link-datasource__destination">
    @for (destination of destination(); track destination.name) {
      <ne-neoflow-node
        [nodeGroup]="destination"
        (handleSelectedNode)="onSelectedNode($event)"
        [selectedNode]="selectedNode()"
      ></ne-neoflow-node>
    }
  </div>
</div>

<!-- <div
  style="visibility: hidden; position: fixed"
  [style.left]="processorMenuPosition().x + 'px'"
  [style.top]="processorMenuPosition().y + 'px'"
  [matMenuTriggerFor]="processorMenu"
></div>
<mat-menu #processorMenu="matMenu">
  <ng-template matMenuContent>
    @for (processor of processorMenuOpt(); track processor.displayName) {
      <button mat-menu-item (click)="addProcessorUnit(processor)">{{ processor.displayName }}</button>
      <button mat-menu-item (click)="addComponent($event)">{{ processor.displayName }}</button>
    }
  </ng-template>
</mat-menu> -->
